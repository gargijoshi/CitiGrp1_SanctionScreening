<html lang="en" xmlns:th="http://www.thymeleaf.org">
	
	<head>
		<title>Transactions List</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" 
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" 
			integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" 
			crossorigin="anonymous" />
			
			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">
    
    <!-- Google Fonts -->
<link  href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
       rel="stylesheet"/>
	</head>
	<style>
	@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap");	
        *{
            font-family: 'Montserrat', sans-serif;
            list-style: none;
            margin: 0;
            padding: 0;
            box-sizing: border-box;     
        }
        
        body{
            background-image: url(upload2.jpg);
            /* background: rgb(216, 223, 223); */
            color: #63686e;         
        }
	ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.main-nav a:hover {
  background-color: #99b3ff;
}
h2,
a {
color: #34495e;
text-decoration: none;
}
h3
{
text-align:centre;
padding-top:4%;
color: #A9A9A9;
font-weight:bold;
}

  .image {
    padding-top: 145px;
    width: 80%;
    transition: transform 1.1s ease-in-out;
    transition-delay: 0.4s;
    padding-bottom: 2px;
  }
  .logo {
    height: 50px;
    padding-left: 20px;
  }

  /* nav bar -------------------------------------------------------------------------------------------- */
    
  nav{
background:#6099fd;
height:63px;
overflow: hidden;
}
  nav ul{
float:right;
margin-right:20px;
}
  nav ul li{  
display:inline-block;
padding-top: 20px;
padding-right: 20px;
}
nav ul li a{
  color: white;
}
label.logo{
color:white;
font-size:35px;
padding-left: 350px;
font-weight:bold;
}
/* -------------------------------------------------------------------------------------------- */



.header {
padding-top: .5em;
padding-bottom: .5em;
border: 1px solid #a2a2a2;
background-color: #f4f4f4;
-webkit-box-shadow: 0px 0px 14px 0px rgba(0,0,0,0.75);
-moz-box-shadow: 0px 0px 14px 0px rgba(0,0,0,0.75);
box-shadow: 0px 0px 14px 0px rgba(0,0,0,0.75);
-webkit-border-radius: 5px;
-moz-border-radius: 5px;
border-radius: 5px;
}

@media (min-width: 769px) {
.header,
.main-nav {
display: flex;
}
.header {
flex-direction: column;
align-items: center;
background-color: #3f4f7d;
color:white;
width: 1536px;
margin: 0 auto;
max-width: 1536px;

}

}

@media (min-width: 1025px) {
.header {
flex-direction: row;
justify-content: space-between;
}

}
 .my-custom-scrollbar {
position: relative;
height: 200px;
overflow: auto;
}
.table-wrapper-scroll-y {
display: block;
} 

.Sanction label{
            display: block;
            background-color: white;
            /* border: 2px dashed #030303; */
            padding: 15px;
            width: calc(100% - 20px);
            margin: 10px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 0px;
        }
        .Sanction #Sanction{
            outline: none;
            opacity: 0;
            width: 0;
        }
        .Sanction span{
            font-size: 14px;
            color: #030303;
        }
       
        .Sanction label:hover span{
            text-decoration: underline;
        }
        .btn1
        {
            background-color: #6099fd;
            color: white;
            height: 50px;
            width:30%;
            border-radius: 20px;
        }
        .btn1:hover
        {
            background-color: white;
            border: 1px solid;
            color: #3f4f7d;
        }
        

        
	</style>
<body bg="">
    <nav>
      <img src="../static/images/login_logo.png" th:src="@{images/login_logo.png}" class="logo" alt="">
      <ul>
        <li><a href="/uploadForm"><i class="fa fa-fw fa-home"></i>Home</a></li>
        <li><a href="/visualize"><i class="fa fa-pie-chart"></i>Report</a></li>
        <li><a href="/archives"><i class="fa fa-fw fa-database"></i>Archives</a></li>
        <li><a href="/login"><i class="fa fa-fw fa-user"></i>Logout</a></li>
      </ul>
    </nav>
		<div class="container">
		<script>  
            function GetFileName(){
            with(document.forms.Sanction){
            var fName = name.value;
            console.log(fName);
            }            
            }
                       
            function RedirectTo(){            
            console.log("Redirecting to list");            
            window.location.href = "/resources/templates/list-transactions.html";
            }
            </script>

        <form method="POST" enctype="multipart/form-data" action="/list-transactions">
            <div class="Sanction">
                <label for="Sanction1">    
                        <input type="submit" name="Sanction" value="Sanction" class="btn1" onsubmit="RedirectTo()">          
                </label>
                <br/>
            </div>
           
        </form>       
		
			<center><h3 style="padding-top: 20px;">Validated Transactions</h3></center>
			
			<hr/>
		
		   <!-- <div class="table-wrapper-scroll-y my-custom-scrollbar"> --> 
		 <!--    <div class="tb_container"> -->
			<table id="transaction" class="table table-striped" style="width:100%">
			
				<thead>
					<tr  style="background-color: #6099fd; color:#263D65; font-size:medium; font-weight:bold;">
					
						<th >TransactionRefNo</th>
						<th >Value Date </th>
						<th >Payer Name</th>
						<th >Payer Account No</th>
						<th >Payee Name </th>
						<th >Payee Account No</th>
						<th >Amount</th>
						<th >Validation</th>						
					</tr>
				</thead>
				<tbody> <!--  style="height:250px; overflow-y: auto; overflow-x: hidden; color:#263D65;">  -->
					<tr th:each="transaction: ${transactions}">
						<td th:text="${transaction.TransactionRefNo}" />
						<td th:text="${transaction.ValueDate}" />
						<td th:text="${transaction.PayerName}" />
						<td th:text="${transaction.PayerAccountNo}" />
						<td th:text="${transaction.PayeeName}" />
						<td th:text="${transaction.PayeeAccountNo}" />
						<td th:text="${transaction.Amount}" />
						<td>
						<span th:if="${transaction.validateStatus == 1}" style="color: green"> Valid </span>
						<span th:unless="${transaction.validateStatus == 1}" style="color:red"> Invalid </span>
						</td>															
					</tr>
				</tbody>
				
			</table>
			<!--  </div>  -->
	
			<!--</div>-->
		</div>
						<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#transaction').DataTable();
        });
    </script>
		
		
	</body>
	
</html>